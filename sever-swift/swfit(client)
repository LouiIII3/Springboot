import Foundation

let url = URL(string: "http://your-server-url/users")!

URLSession.shared.dataTask(with: url) { (data, response, error) in
    if let error = error {
        print("Error: \(error)")
        return
    }
    
    guard let data = data else {
        print("No data received")
        return
    }
    
    do {
        if let jsonArray = try JSONSerialization.jsonObject(with: data, options: []) as? [[String: Any]] {
            for user in jsonArray {
                if let name = user["name"] as? String, let email = user["email"] as? String {
                    print("Name: \(name), Email: \(email)")
                }
            }
        }
    } catch {
        print("Error decoding JSON: \(error)")
    }
}.resume()
